==================
copy command
==================

foo:
    COPY foo bar

---

    (source_file
      (target
        name: (identifier)
        (block
          (copy_command
            sources: (copy_sources
              (string
                (unquoted_string)))
            destination: (string
              (unquoted_string))))))


==================
copy command multi sources
==================

foo:
    COPY "foo" bar hop

---

    (source_file
      (target
        name: (identifier)
        (block
          (copy_command
            sources: (copy_sources
              (string
                (double_quoted_string))
              (string
                (unquoted_string)))
            destination: (string
              (unquoted_string))))))


==================
copy command with options
==================

foo:
    COPY --dir --keep-ts --platform=linux/arm64 foo bar

---

    (source_file
      (target
        name: (identifier)
        (block
          (copy_command
            options: (options
              (dir)
              (keep_ts)
              (platform
                value: (string
                  (unquoted_string))))
            sources: (copy_sources
              (string
                (unquoted_string)))
            destination: (string
              (unquoted_string))))))


==================
copy command target artifacts
==================

foo:
    COPY (+build/foo --from=+debian) +build/bar /

---

    (source_file
      (target
        name: (identifier)
        (block
          (copy_command
            sources: (copy_sources
              (target_artifact_build_args
                (target_ref
                  name: (identifier))
                (unquoted_string)
                (build_args
                  (build_arg
                    name: (variable)
                    value: (string
                      (unquoted_string)))))
              (target_artifact
                (target_ref
                  name: (identifier))
                (unquoted_string)))
            destination: (string
              (unquoted_string))))))


==================
copy command target artifacts with expansions
==================

foo:
    COPY \
        +build/${foo} \
        +${target}/foo \
        ${target}/foo \
        ${artifact} \
        (+$target/$foo --from=bar) \
        ($target/$foo --from=bar) \
        /

---

    (source_file
      (target
        name: (identifier)
        (block
          (copy_command
            (line_continuation)
            sources: (copy_sources
              (target_artifact
                (target_ref
                  name: (identifier))
                (unquoted_string
                  (expansion
                    (variable))))
              (line_continuation)
              (target_artifact
                (target_ref
                  name: (identifier
                    (expansion
                      (variable))))
                (unquoted_string))
              (line_continuation)
              (string
                (unquoted_string
                  (expansion
                    (variable))))
              (line_continuation)
              (string
                (unquoted_string
                  (expansion
                    (variable))))
              (line_continuation)
              (target_artifact_build_args
                (target_ref
                  name: (identifier
                    (expansion
                      (variable))))
                (unquoted_string
                  (expansion
                    (variable)))
                (build_args
                  (build_arg
                    name: (variable)
                    value: (string
                      (unquoted_string)))))
              (line_continuation)
              (target_artifact_build_args
                (string
                  (unquoted_string
                    (expansion
                      (variable))
                    (expansion
                      (variable))))
                (build_args
                  (build_arg
                    name: (variable)
                    value: (string
                      (unquoted_string))))))
            (line_continuation)
            destination: (string
              (unquoted_string))))))

